---
layout: layout
title: Reference
---
<div class="container-fluid">
  <div class="row-fluid">
    <div class="span3 well" style="padding: 8px 0;">
      <ul class="sidebar-nav nav nav-list">
        <!-- This gets filled up by codez -->
      </ul>
    </div>

    <div class="span9">
      <!-- CORE Library
        ================================================== -->
      <section class="bronson-layer" id="core">
      <h2>Core</h2>
      <p><code>Bronson.Core</code> acts as the <strong>Mediator</strong> in <strong>Bronson</strong>. The Core is responsible for the management of modules as well as the communication layer.</p>

        <!-- CORE - load
        ================================================== -->
        <section id="core-load">
          <h3>load()</h3>
          <p>Loads a module via RequireJS and calls your modules load method.</p>
          <strong>Bronson.load(module, {config}, callback, autostart)</strong>
          <ul>
            <li><code>module:String</code> – path or RequireJS alias to module</li>
            <li><code>config:Object</code> – configuration object to pass to module constructor</li>
            <li><code>callback:Function</code> – function to call upon completion of module load</li>
            <li><code>autostart:Boolean</code> – whether or not to call the modules start method automatically. Defaults to <code>true</code>.</li>
          </ul>

{% highlight coffeescript %}
# Simple example
require ['bronson'], (Bronson) ->
  Bronson.load 'example/path/sampleModule', ->
    # Module has been created
{% endhighlight %}

          <p>It is also possible to pass the configuration object during the construction of the module. This configuration object will be passed to the constructor of your module bootstrapper when you extend <code>Bronson.Module</code>.</p>

{% highlight coffeescript %}
require ['bronson'], (Bronson) ->
  # Sample data to be passed to module
  configurationObject =
    el: 'div#modules'
    url: 'http://example.com/api/data.json'

  Bronson.load 'example/path/sampleModule'
    configurationObject       # The configuration object to pass to the module
  , (->)                      # Callback
  , false                     # Whether or not to autostart the module
{% endhighlight %}
      </section>


      <!-- CORE - unload()
        ================================================== -->
      <section id="api-unload">
        <h3>unload()</h3>
        <p>
        Unloads a module by calling the <code>unload()</code> method of the module whose instance <code>id:String</code> you provide. This is typically used to clean up memory.</p>
        <strong>Bronson.unload(id)</strong>
        <ul>
          <li><code>id:String</code> – the id of the module instance</li>
        </ul>
{% highlight coffeescript %}
require ['bronson'], (Bronson) ->
  Bronson.unload module.id
{% endhighlight %}
      </section>


      <!-- CORE - unloadAll()
        ================================================== -->
      <section id="api-unloadAll">
        <h3>unloadAll()</h3>
        <p>Calls unload method of every instanced module.</p>
        <strong>Bronson.unloadAll()</strong>
{% highlight coffeescript %}
require ['bronson'], (Bronson) ->
  Bronson.unloadAll()
{% endhighlight %}
      </section>


      <!-- CORE - start()
        ================================================== -->
      <section id="core-start">
        <h3>start()</h3>
        <p>Calls start method of instanced moduled<p>
        <strong>Bronson.start(id)</strong>
{% highlight coffeescript %}
require ['bronson'], (Bronson) ->
  Bronson.start module.id
{% endhighlight %}
      </section>

      <!-- CORE - stop()
        ================================================== -->
      <section id="core-stop">
        <h3>stop()</h3>
        <p>Stops a module by calling the <code>stop()</code> method of the module whose instance <code>id:String</code> you provide. Typically used when you want to remove an item from the DOM but keep it in memory.</p>
        <strong>Bronson.stop(id)</strong>
        <ul>
          <li><code>id:String</code> – the id of the module instance</li>
        </ul>
{% highlight coffeescript %}
require ['bronson'], (Bronson) ->
  Bronson.stop module.id
{% endhighlight %}
      </section>

      <!-- CORE - stopAll()
        ================================================== -->
      <section id="core-stopAll">
        <h3>stopAll()</h3>
        <p>Unloads the artifacts loaded for all created modules calling <code>stopModule()</code> on each in turn.</p>
        <strong>Bronson.stopAll()</strong>
{% highlight coffeescript %}
require ['bronson'], (Bronson) ->
  Bronson.stopAll ->
    # All modules have been stopped
{% endhighlight %}
      </section>

      <!-- CORE - publish()
        ================================================== -->
      <section id="core-publish">
        <h3>publish()</h3>
        <p>Publishes an event to all subscribers.</p>
        <strong>Bronson.publish(event, data)</strong>
        <ul>
          <li><code>event:String</code> – the event to trigger</li>
          <li><code>data:Object</code> – the data to sent
        </ul>

{% highlight coffeescript %}
require ['bronson'], (Bronson) ->
  Bronson.Api.publish 'TestEvent'
{% endhighlight %}

        <p>It's also possible to pass data along with the event</p>

{% highlight coffeescript %}
require ['bronson'], (Bronson) ->
  Bronson.Api.publish 'TestEvent', { foo: 'bar' }
{% endhighlight %}
      </section>


      <!-- CORE - subscribe()
        ================================================== -->
      <section id="core-subscribe">
        <h3>subscribe()</h3>
        <p>Subscribe a module to an event and if <code>Bronson.Permission</code> is enabled, then validate the event.</p>
        <strong>Bronson.subscribe(event, callback, context)</strong>
        <ul>
          <li><code>event:String</code> – the name of the event</li>
          <li><code>callback:Function</code> – the method to invoke when the event is triggered</li>
        </ul>

{% highlight coffeescript %}
require ['bronson'], (Bronson) ->
  Bronson.Api.subscribe 'TestSubscriber', 'TestEvent', ->
    # Module subscribed
{% endhighlight %}

{% highlight coffeescript %}
require ['bronson'], (Bronson) ->
  Bronson.Api.subscribe 'TestSubscriber', 'TestEvent', (data) ->
    # Event triggered with data
    console.log data
{% endhighlight %}
      </section>


      <!-- API - unsubscribe()
        ================================================== -->
      <section id="api-unsubscribe">
        <h3>unsubscribe()</h3>
        <p>Unsubscribes an event from a module.</p>
        <strong>Bronson.Api.unsubscribe(subscriber, event)</strong>
        <ul>
          <li><code>subscriber:String</code> – the subscriber name to unsubscribe from</li>
          <li><code>event:String</code> – the event to unsubscribe</li>
        </ul>

{% highlight coffeescript %}
require ['bronson'], (Bronson) ->
  Bronson.Api.unsubscribe 'subscriber', 'TestEvent'
{% endhighlight %}
      </section>

    <!-- PERMISSIONS Library
    ================================================== -->
    <section class="bronson-layer" id="permissions">
      <h2>Permissions</h2>


      <!-- PERMISSIONS - Overview
      ================================================== -->
      <section id="permissions-overview">
        <h3>Overview</h3>
        <p>The permissions layer configures subscriber to event permissions. It can be a good place to map your events. By default permissions are turned off.</p>
      </section>


      <!-- PERMISSIONS - set()
      ================================================== -->
      <section id="permissions-set">
        <h3>set()</h3>
        <p>Set's the module to module communication permissions.</p>
        <strong>Bronson.Permissions.setPermissions({config})</strong>
        <ul>
          <li><code>config:Object</code> – the permissions</li>
        </ul>
{% highlight coffeescript %}
require ['bronson'], (Bronson) ->
  Bronson.Permissions.setPermissions
    'module1':
      'event1': true
      'event2': false
    'module2'
      'event1': true
      'event2': false
{% endhighlight %}
      </section>


      <!-- PERMISSIONS - validate()
      ================================================== -->
      <section id="permissions-validate">
        <h3>validate()</h3>
        <p>Validates whether or a not a module may subscribe to an event.</p>
        <strong>Bronson.Permissions.validate(subscriber, event)</strong>
        <ul>
          <li><code>subscriber:String</code> – the subscriber to validate</li>
          <li><code>event:String</code> – the event to validate</li>
          <li><code>return:Boolean</code> – whether or not the event passed validation</li>
        </ul>
{% highlight coffeescript %}
require ['bronson'], (Bronson) ->
  Bronson.Permissions.validate 'subscriber', 'event'
{% endhighlight %}
      </section>
    </section>



    <!-- MODULE Library
    ================================================== -->
    <section class="bronson-layer" id="module">
      <h2>Module</h2>


      <!-- MODULE - Overview
      ================================================== -->
      <section id="module-overview">
        <h3>Overview</h3>
        <p><code>Bronson.Module</code> is a base class from which all your mini application bootstraps should derive.</p>
      </section>


      <!-- MODULE - load()
      ================================================== -->
      <section id="module-load">
        <h3>load()</h3>
        <p>The module <code>load()</code> method is called automatically when a module is loaded.</p>
        <strong>Bronson.Module.load()</strong>
{% highlight coffeescript %}
require ['bronson'], (Bronson) ->
  class TestModule extends Bronson.Module
    constructor: (parameters={}) ->

    load: ->
      # put all initialization logic here
{% endhighlight %}
      </section>


      <!-- MODULE - start()
      ================================================== -->
      <section id="module-start">
        <h3>start()</h3>
        <p>Module <code>start()</code> is called either during the load process or manually. It's a good place to wire up subscribers or build the DOM.</p>
        <strong>Bronson.Module.start()</strong>
{% highlight coffeescript %}
require ['bronson'], (Bronson) ->
  class TestModule extends Bronson.Module
    constructor: (parameters={}) ->

    load: ->
      # put all initialization logic here
    start: ->
      # put all subscription or dom creation logic here
{% endhighlight %}
      </section>


      <!-- MODULE - stop()
      ================================================== -->
      <section id="module-stop">
        <h3>stop()</h3>
        <p>Module <code>stop()</code> is a good place to put deactivate subscribers or other actions which may need to be temporarily paused.</p>
        <strong>Bronson.Module.start()</strong>
{% highlight coffeescript %}
require ['bronson'], (Bronson) ->
  class TestModule extends Bronson.Module
    constructor: (parameters={}) ->

    load: ->
      # put all initialization logic here
    start: ->
      # put all subscription or dom creation logic here
    stop: ->
      # temporarily stop the module
{% endhighlight %}
      </section>


      <!-- MODULE - unload()
      ================================================== -->
      <section id="module-unload">
        <h3>unload()</h3>
        <p>Module <code>unload()</code> is where you should clean up all memory in anticipation of the module being garbage collected.</p>
        <strong>Bronson.Module.unload()</strong>
{% highlight coffeescript %}
require ['bronson'], (Bronson) ->
  class TestModule extends Bronson.Module
    constructor: (parameters={}) ->

    load: ->
      # put all initialization logic here
    start: ->
      # put all subscription or dom creation logic here
    stop: ->
      # temporarily stop the module
    unload: ->
      # clean up prior to garbage collection
{% endhighlight %}
        </section>
      </section>
    </div>
  </div>
</div>

<!-- JS at the bottom for faster page load -->
<script src='apps/lib/reference/reference.js'></script>
